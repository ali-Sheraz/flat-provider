<app-header></app-header>
<app-sidebar></app-sidebar>
<div class="content container-fluid">
  <div class="row">
    <div class="col-xs-8">
      <h4 class="page-title">Next Actions</h4>
      <p>Total: {{totalList}}</p>
    </div>

    <div class="col-xs-4 text-right m-b-30">
      <a href="javascript:" class="btn btn-primary pull-right" (click)="addReset()"><i class="fa fa-plus"></i>
        Add Next Action</a>
    </div>
  </div>

  <div class="row" *ngIf="scan">
    <div class="col-xs-12">
      <p class="alert alert-success">
        <strong>Scan!</strong> {{scanResults}}
      </p>
    </div>
  </div>
  <div class="row" *ngIf="showSuccessMsg">
    <div class="col-xs-12">
      <p class="alert alert-success">
        <strong>Success!</strong> {{addMsg}}
      </p>
    </div>
  </div>

  <div class="modal-body">
    <form #searchForm="ngForm" novalidate>
      <div class="row filter-row">

        <div class="col-sm-3 col-md-2 col-xs-6">
          <div class="form-group form-focus select-focus">
            <label class="control-label">Client</label>
            <input type="text" class="form-control floating" [(ngModel)]="searchT.property_developer"
              name="property_developer" #property_developer="ngModel" />
          </div>
        </div>

        <div class="col-sm-3 col-md-2 col-xs-6">
          <div class="form-group form-focus select-focus">
            <label class="control-label">Next Action</label>
            <input type="text" class="form-control floating" [(ngModel)]="searchT.task" name="task" #task="ngModel" />
          </div>
        </div>

        <div class="wrapper">
          <button class="btn btn-success pull-right">Clear Search</button>
          <button class="btn btn-success pull-right" style="display:inline-block;margin-right:4px"
            type="submit">Search</button>
        </div>
      </div>
    </form>
  </div>


  <div class="row">
    <div class="col-md-12">
      <div class="table-responsive">
        <table class="table table-striped custom-table" >
          <thead>
            <tr>
              <th style="width: 35%">
                Client
              </th>
              <th style="width: 30%">
                Next Action
              </th>
              <th style="width: 30%">
                #Font Color
              </th>
              <th style="width: 30%">
                #Background Color
              </th>
              <th style="width: 0.1%">
                Action
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of data">
              <td>{{item.property_developer}}</td>
              <td>{{item.task}}</td>
              <td [ngStyle]="{'color': item.font}">{{item.font}}</td>
              <td [ngStyle]="{'background-color': item.Background}">{{item.Background}}</td>
              <td class="text-right">
                <div class="dropdown">
                  <a href="javascript:" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-ellipsis-v"></i>
                  </a>
                  <ul class="dropdown-menu pull-right">
                    <li><a href="javascript:" title="Edit" (click)="onEdit(item)"><i class="fa fa-pencil m-r-5"></i>Edit</a></li>
                    <li><a href="javascript:" title="Delete" (click)="onDelete()"><i class="fa fa-trash-o m-r-5"></i>{{generals_delete}}</a></li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="12">
                <!-- Footer content if needed -->
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
  
</div>

<div id="delete_type_of_unit" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content modal-md">
      <div class="modal-header">
        <h4 class="modal-title">Delete Leave Type</h4>
      </div>
      <div class="modal-body card-box">
        <p>Are you sure you want to DELETE this??</p>
        <div class="m-t-20 text-left">
          <a href="javascript:" class="btn btn-default" data-dismiss="modal">Close</a>
          <button type="submit" class="btn btn-danger">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="delete" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content modal-md">
      <div class="modal-header">
        <h4 class="modal-title">Delete</h4>
      </div>
      <form (ngSubmit)="deleteConfirmation()">
        <div class="modal-body card-box">
          <p>Are you sure you want to DELETE this??</p>

          <div class="m-t-20"> <a href="javascript:" class="btn btn-warning" data-dismiss="modal">No</a>
            <button type="submit" style="margin: 5px;" class="btn btn-danger">Delete</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div id="delete_result" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content modal-md">
      <div class="modal-header">
        <h4 class="modal-title">Delete</h4>
      </div>
      <form (ngSubmit)="deleteResult()">
        <div class="modal-body card-box">
          <p>{{delete_results}}</p>

          <div class="m-t-20">
            <button type="submit" style="margin: 5px;" class="btn btn-success">Okay</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>


<div id="add_modal" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <div class="modal-content modal-md">
      <div class="modal-header" style="padding: 20px;">
        <h4 class="modal-title">Add Next Action</h4>
      </div>
      <div class="modal-body"  style="padding: 20px;">
        <form #addForm="ngForm">

          <div class="form-group">
            <label>Client<span class="text-danger m-l-5">*</span></label>
            <select class="select form-control" [(ngModel)]="addLT.property_developer" name="property_developer"
              #property_developer="ngModel" required>
              <option value=""></option>
              <option *ngFor="let AllPd of AllPd">
                {{AllPd}}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label>Next Action<span class="text-danger m-l-5">*</span></label>
            <input class="form-control" type="text" #task='ngModel' name='task' [(ngModel)]='addLT.task' required>
          </div>
          <div class="form-group">
            <label>#Font Color<span class="text-danger m-l-5">*</span></label>
            <input class="form-control" type="text" #font='ngModel' name='font' [(ngModel)]='addLT.font' required>
          </div>
          <div class="form-group">
            <label>#Background Color<span class="text-danger m-l-5">*</span></label>
            <input class="form-control" type="text" #Background='ngModel' name='Background'
              [(ngModel)]='addLT.Background' required>
          </div>

          <div class="m-t-20 text-center">
            <button class="btn btn-primary">Add Next Action</button>
          </div>
          <div *ngIf="addTypeOfUnitValidation" class="alert alert-info m-t-10">
            <strong>Warning!</strong> Must Fill all Mandatory Fields.
          </div>
        </form>
      </div>
    </div>
  </div>
</div>



<div id="Edit_modal" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <div class="modal-content modal-md">
      <div class="modal-header"  style="padding: 20px;">
        <h4 class="modal-title">Edit Next Action</h4>
      </div>
      <div class="modal-body"  style="padding: 20px;">
        <form #editForm="ngForm">


          <div class="form-group">
            <label>Client<span class="text-danger m-l-5">*</span></label>
            <select class="select form-control" [(ngModel)]="uptLT.property_developer" name="property_developer"
              #property_developer="ngModel" required>
              <option value=""></option>
              <option *ngFor="let AllPd of AllPd">
                {{AllPd}}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label>Next Action <span class="text-danger">*</span></label>
            <input class="form-control" type="text" #task='ngModel' name='task' [(ngModel)]='uptLT.task' required>
          </div>
          <div class="form-group">
            <label>#Font Color<span class="text-danger m-l-5">*</span></label>
            <input class="form-control" type="text" #font='ngModel' name='font' [(ngModel)]='uptLT.font' required>
          </div>
          <div class="form-group">
            <label>#Background Color<span class="text-danger m-l-5">*</span></label>
            <input class="form-control" type="text" #Background='ngModel' name='Background'
              [(ngModel)]='uptLT.Background' required>
          </div>
          <div class="form-group">
            <input class="form-control" type="hidden" [(ngModel)]="uptLT.id" name="id" #id="ngModel">
          </div>

          <div class="m-t-20 text-center">
            <button class="btn btn-primary">Update Next Action</button>
          </div>

          <div *ngIf="addTypeOfUnitValidation" class="alert alert-info m-t-10">
            <strong>Warning!</strong> Must Fill all Mandatory Fields.
          </div>
        </form>
      </div>
    </div>
  </div>
</div>