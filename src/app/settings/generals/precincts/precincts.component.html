<app-header></app-header>
<app-sidebar></app-sidebar>
<div class="content container-fluid">
  <div class="row">
    <div class="col-xs-8">
      <h4 class="page-title">Precincts/Projects/Condos</h4>
      <p>Total: {{totalList}}</p>
    </div>

    <div class="col-xs-4 text-right m-b-30">
      <a href="javascript:" class="btn btn-primary pull-right" (click)="addReset()"><i class="fa fa-plus"></i>
        Add Precincts/Projects/Condos</a>
    </div>
  </div>

  <div class="row" *ngIf="scan">
    <div class="col-xs-12">
      <p class="alert alert-success">
        <strong>Scan!</strong> {{scanResults}}
      </p>
    </div>
  </div>

  <div class="row" *ngIf="showSuccessMsg">
    <div class="col-xs-12">
      <p class="alert alert-success">
        <strong>Result!</strong> {{AddedMsg}}
      </p>
    </div>
  </div>

  <div class="modal-body">
    <form #searchForm="ngForm"  novalidate>
      <div class="row filter-row">

        <div class="col-sm-3 col-md-2 col-xs-6">
          <div class="form-group form-focus select-focus">
            <label class="control-label">{{precincts_property_developer}}</label>
            <select class="select floating form-control"  [(ngModel)]="searchT.property_developer"
              name="property_developer" #property_developer="ngModel" required>
              <option value=""></option>
              <option *ngFor="let AllPd of AllPd">
                {{AllPd}}
              </option>
            </select>
          </div>
        </div>

        <div class="col-sm-3 col-md-2 col-xs-6">
          <div class="form-group form-focus select-focus">
            <label class="control-label">{{precincts_projects_precinct}}</label>
            <input type="text" class="form-control floating"[(ngModel)]="searchT.precinct" name="precinct"
              #precinct="ngModel" />
          </div>
        </div>
        <div class="wrapper">
          <button class="btn btn-success pull-right" >Clear Search</button>
          <button class="btn btn-success pull-right" style="display:inline-block;margin-bottom:4px;margin-right:4px"
            type="submit">Search</button>

        </div>
      </div>
    </form>
  </div>


  <div class="row">
    <div class="col-md-12">
      <div class="table-responsive">
        <table class="table table-striped custom-table" >
          <thead>
            <tr>
              <th style="width: 35%">
        Client
              </th>
              <th style="width: 30%">
              Precincts/Projects/Condos
              </th>
              <th style="width: 0.1%">
      Action
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of mdata">
              <td>{{item.property_developer}}</td>
              <td>{{item.precinct}}</td>
              <td class="text-right">
                <div class="dropdown">
                  <a href="javascript:" class="action-icon dropdown-toggle" data-toggle="dropdown"
                    aria-expanded="false"><i class="fa fa-ellipsis-v"></i></a>
                  <ul class="dropdown-menu pull-right">
                    <li><a href="javascript:" title="Edit" (click)="onEdit(item)"><i class="fa fa-pencil m-r-5"></i>
                        Edit</a></li>
                    <li><a href="javascript:"
                        title="Delete" (click)="onDelete()"><i class="fa fa-trash-o m-r-5"></i>
                        Delete</a></li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="12">

              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>


<div id="add_Precinct" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <div class="modal-content modal-md">
      <div class="modal-header" style="padding: 20px;">
        <h4 class="modal-title">Add Precincts/Projects/Condos</h4>
      </div>
      <div class="modal-body" style="padding: 20px;">
        <form #addForm="ngForm" >

          <div class="form-group">
            <label>{{precincts_property_developer}}<span class="text-danger m-l-5">*</span></label>
            <select class="select form-control" [(ngModel)]="addLT.property_developer" name="property_developer"
              #property_developer="ngModel" required>
              <option value=""></option>
              <option *ngFor="let AllPd of AllPd">
                {{AllPd}}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label>{{precincts_projects_precinct}}<span class="text-danger">*</span></label>
            <input class="form-control" type="text" #precinct='ngModel' name='precinct' [(ngModel)]='addLT.precinct'
              required>
          </div>

          <div class="m-t-20 text-center">
            <button class="btn btn-primary pull-right">Add Precinct/Projects</button>
          </div>
          <div *ngIf="addTPrecinctValidation" class="alert alert-info m-t-10">
            <strong>Warning!</strong> Must Fill all Mandatory Fields.
          </div>
        </form>
      </div>
    </div>
  </div>
</div>




<div id="Edit_modal" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <div class="modal-content modal-md">
      <div class="modal-header" style="padding: 20px;">
        <h4 class="modal-title">Edit Precincts/Projects/Condos</h4>
      </div>
      <div class="modal-body" style="padding: 20px;">
        <form #editForm="ngForm" >

          <div class="form-group">
            <label>{{precincts_property_developer}}<span class="text-danger m-l-5">*</span></label>
            <select class="select form-control" [(ngModel)]="uptLT.property_developer" name="property_developer"
              #property_developer="ngModel" required>
              <option value=""></option>
              <option *ngFor="let AllPd of AllPd">
                {{AllPd}}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label>{{precincts_projects_precinct}} <span class="text-danger">*</span></label>
            <input class="form-control" type="text" #type_of_unit='ngModel' name='precinct' [(ngModel)]='uptLT.precinct'
              required>
          </div>

          <div class="form-group">
            <input class="form-control" type="hidden" [(ngModel)]="uptLT.id" name="id" #id="ngModel">
          </div>

          <div class="m-t-20 text-center">
            <button class="btn btn-primary">Update Precinct/Projects</button>
          </div>
          <div *ngIf="addTPrecinctValidation" class="alert alert-info m-t-10">
            <strong>Warning!</strong> Must Fill all Mandatory Fields.
          </div>
        </form>
      </div>
    </div>
  </div>
</div>







<div id="delete" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content modal-md">
      <div class="modal-header">
        <h4 class="modal-title">Delete</h4>
      </div>
      <form (ngSubmit)="deleteConfirmation()">
        <div class="modal-body card-box">
          <p>Are you sure you want to DELETE this??</p>

          <div class="m-t-20"> <a href="javascript:" class="btn btn-warning" data-dismiss="modal">No</a>
            <button type="submit" style="margin: 5px;" class="btn btn-danger">Delete</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div id="delete_result" class="modal custom-modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content modal-md">
      <div class="modal-header">
        <h4 class="modal-title">Delete</h4>
      </div>
      <form (ngSubmit)="deleteResult()">
        <div class="modal-body card-box">
          <p>{{delete_results}}</p>

          <div class="m-t-20">
            <button type="submit" style="margin: 5px;" class="btn btn-success">Okay</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>